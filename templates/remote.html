{% extends "base.html" %}
{% block body %}
    <h2>Wikipedia Edit Profiler <span style="color:gray;">Beta</span></h2>
    Enter a wikiurl to profile:
    <br />
    <br />
    <form action="{{url_for('remote')}}" method="post">
        <input type="text" name="expression" />
        <input type="submit" value="Go" />
    </form>
        {% if result %}
            Results:

            <div id="result">
                {{ result }}
            </div>

	    <hr />
        {% endif %}
    <br />
    A wikiurl is the unique portion of a Wikipedia URL: everything that appears after "http://en.wikipedia.org/wiki/" e.g. Vladimir_Nabokov. Queries can take as long as 30 seconds to complete.
    <br />
    <br />
    <img src="http://i.imgur.com/IYVbkbd.png" alt="" title="wikipedia url with portion of interest highlighted" />
    <br />
    <br />
    <hr />
    <br />
    <div id="shown_whatsection" style="display:inline">
      <a style="cursor:pointer" onclick="toggle_text('shown_whatsection', 'hidden_whatsection')">
	What is this? +
      </a>
    </div>
    <div id="whatsection">
      <div id="hidden_whatsection" style="display:none">
	<a style="cursor:pointer" onclick="toggle_text('shown_whatsection', 'hidden_whatsection')">
	  What is this? -</a>
<div style="background-color:rgba(100,100,100,0.1); padding:5px;">
<i>I started this project in order to teach myself a framework (flask) and port some code I had written into a web app which could be shared with others. This site crawls Wikipedia edit histories and returns a visualization of the frequency of edits made to a particular page. The frequency of edits are color-coded. <span style="color:red;">Red</span> signifies a relatively high number of edits in a month, <span style="color:green;">green</span> signifies a low number of edits, <span style="color:gray">gray</span> signifies either zero edits, a month that has not yet occurred or a month prior to the page's creation.
</i>
</div>
      </div>
    </div>
    <br />
    <div id="shown_aboutsection" style="display:inline">
      <a style="cursor:pointer" onclick="toggle_text('shown_aboutsection', 'hidden_aboutsection')">
	More info +
      </a>
    </div>
    <div id="aboutsection">
      <div id="hidden_aboutsection" style="display:none">
	<a style="cursor:pointer" onclick="toggle_text('shown_aboutsection', 'hidden_aboutsection')">
	  More info -</a>
<div style="background-color:rgba(100,100,100,0.1); padding:5px;">
<i>Because the code is slow, and http requests time out in 30 seconds, it is currently only capable of grabbing the most recent ~1300 edits. If you query a page with a higher number of edits, your results will display only the most recent edits.
  <br />
  <br />
 Bugs: This code is  slow. If you know how to implement background workers in Flask, or see any other glaring flaws in the <a href="https://github.com/mlincoln/wikieditprof/tree/beta">source</a>, <a href="http://mileslincoln.com">get in touch</a>.</i>
</div>
      </div>
    </div>
    <br />
    <br />


{% endblock %}
